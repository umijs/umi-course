# ä½¿ç”¨ CLI åˆ›å»ºåˆå§‹åŒ–é¡¹ç›®

## ç¬¬ä¸€æ­¥ å®‰è£…Â [create-umi](https://github.com/umijs/create-umi)

```bash
$ yarn global add create-umi
...
success Installed "create-umi@0.6.0" with binaries:
      - create-umi
âœ¨  Done in 36.07s.
```

create-umi ä¸»è¦æ˜¯ç”¨æ¥ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»º umi ç›¸å…³çš„åº“æˆ–è€…é¡¹ç›®ã€‚å‘½ä»¤ä¸­æ‰“å° success è¯´æ˜å®‰è£…æˆåŠŸï¼Œå¦‚æœä½ è¿˜éœ€è¦è¿›ä¸€æ­¥ç¡®è®¤ï¼Œå¯ä»¥æ‰§è¡Œ `create-umi -v`Â æ¥æŸ¥çœ‹ create-umi çš„ç‰ˆæœ¬å·ã€‚


## ç¬¬äºŒæ­¥ ä½¿ç”¨ create-umi æ–°å»ºé¡¹ç›®

> * ç¬¬ä¸€ä¸ªé€‰é¡¹ `Select the boilerplate type`Â é€‰æ‹© `app`Â 
* å¦‚æœä½ é‡åˆ°äº†Â `Do you want to use typescript?`Â é€‰é¡¹ï¼Œæ ¹æ®ä½ çš„æƒ…å†µé€‰æ‹©æ˜¯å¦ä½¿ç”¨ TypeScript


```bash
$ cd ä½ çš„å¸¸ç”¨é¡¹ç›®ç›®å½•
$ create-umi hero
? What functionality do you want to enable? (Press <space> to select, <a> to tog
gle all, <i> to invert selection)
 â—‰ antd
â¯â—‰ dva
 â—¯ code splitting
 â—¯ dll
 â—¯ hard source
```
> è¿™é‡Œçš„ hero æŒ‡æ˜¯é¡¹ç›®åï¼Œä½ å¯ä»¥è¾“å…¥ä»»æ„çš„åå­—ã€‚


create-umi æä¾›å®šåˆ¶åŒ–èƒ½åŠ›ï¼Œä½ å¯ä»¥é€šè¿‡ç©ºæ ¼é”®æ¥é€‰ä¸­ä½ éœ€è¦çš„åŠŸèƒ½ï¼Œç„¶åé€šè¿‡æ•²å‡»å›è½¦é”®å¼€å§‹åˆ›å»ºé¡¹ç›®ã€‚è¿™é‡Œæˆ‘ä»¬é€‰ä¸­ antd å’Œ dva å°±å¥½ã€‚

```bash
? What functionality do you want to enable? antd, dva
   create package.json
   create mock/.gitkeep
   create src/assets/yay.jpg
   create src/layouts/index.css
   create src/layouts/index.js
   create src/pages/index.css
   create src/pages/index.js
   create src/global.css
   create .gitignore
   create .editorconfig
   create .env
   create .umirc.js
   create .eslintrc
   create .prettierrc
   create .prettierignore
   create src/models/.gitkeep
   create src/app.js
ğŸ“‹  Copied to clipboard, just use Ctrl+V
âœ¨  File Generate Done
```

å¦‚æœä½ çš„å‘½ä»¤è¡Œæ‰“å°çš„æ—¥å¿—å¦‚ä¸Šï¼Œè¯´æ˜æ–°å»ºé¡¹ç›®å®Œæˆäº†ï¼Œå¦‚æœæœ‰å…¶ä»–çš„é”™è¯¯ï¼Œå¯ä»¥ç¡®è®¤ä¸€ä¸‹å½“å‰ç›®å½•ä¸‹æ˜¯å¦å·²ç»å­˜åœ¨ hero æ–‡ä»¶å¤¹ã€‚ä½ éœ€è¦æ³¨æ„ create-umi ä¼šè‡ªåŠ¨å¸®ä½ æ–°å»º hero æ–‡ä»¶å¤¹ã€‚


## ç¬¬ä¸‰æ­¥ åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•ï¼Œå®‰è£…ä¾èµ–

```bash
$ cd hero
$ yarn 
...è¿™ä¸ªè¿‡ç¨‹éœ€è¦ä¸€äº›æ—¶é—´
success Saved lockfile.
âœ¨  Done in 170.43s.
```

çœ‹åˆ°å‘½ä»¤è¡Œæ‰“å° successï¼Œä¸€èˆ¬å°±æ˜¯å®‰è£…æˆåŠŸäº†ï¼Œä½†æ˜¯æœ‰æ—¶å€™å› ä¸ºä¸€äº›ç½‘ç»œé—®é¢˜ï¼Œä¼šå‡ºç°ä¸¢åŒ…çš„æƒ…å†µï¼Œéœ€è¦ä½ é‡æ–°è¿è¡Œ `yarn`Â éªŒè¯æ˜¯å¦å…¨éƒ¨å®‰è£…æˆåŠŸã€‚


## ç¬¬å››æ­¥ å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
$ yarn start
âœ” success webpack compiled in 2s 743ms
 DONE  Compiled successfully in 2750ms                                  10:24:03


  App running at:
  - Local:   http://localhost:8000/ (copied to clipboard)
  - Network: http://192.168.199.195:8000/
```

ä½ å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—® http://localhost:8000/ æ¥æŸ¥çœ‹é¡µé¢ï¼š

![](https://cdn.nlark.com/yuque/0/2018/png/123174/1543976809778-2d1a60e0-1ae6-4c17-a812-51d6d0b52aad.png#align=left&display=inline&height=430&linkTarget=_blank&originHeight=1528&originWidth=2650&width=747)

è¿˜ä¸é”™å§ï¼ğŸ˜


## é”™è¯¯è¯´æ˜
å¦‚æœï¼Œä½ çš„è¡¨ç°å’Œä¸Šé¢çš„ä¸åŒï¼Œä½ å¯ä»¥é€šè¿‡æ¯”å¯¹ä¸‹é¢ä¸¤ä¸ªæƒ…å†µæ¥ä¿®æ­£ã€‚<br />1.Â æ‰“å°å¦‚ä¸‹

```bash
? message Probably:
  /usr/local/bin/node /Users/xiaohuoni/Documents/***/***/node_module
s/umi/lib/scripts/realDev.js dev (pid 928)
  in /Users/xiaohuoni/***/***/

Would you like to run the app on another port instead? (Y/n)
```

è¿™ä¸ªé—®é¢˜å¯èƒ½æ˜¯å› ä¸ºä½ çš„å…¶ä»–é¡¹ç›®æˆ–åº”ç”¨å·²ç»å ç”¨äº† umi é»˜è®¤çš„ 8000 ç«¯å£ï¼Œä½ åªè¦è¾“å…¥ Y å¹¶å›è½¦ï¼Œumi å°†åœ¨å¦ä¸€ä¸ªç©ºé—²ç«¯å£ä¸Šå¯åŠ¨æœåŠ¡ï¼Œæœ€ç»ˆè®¿é—®è·¯å¾„ä»¥è¾“å‡ºæ—¥å¿—ä¸ºå‡†ã€‚

2.Â å…¶ä»–æƒ…å†µ
* å¯èƒ½æ˜¯ Node.js ç‰ˆæœ¬é—®é¢˜å¼•èµ·çš„ï¼Œç¡®è®¤ä¸€ä¸‹ä½ çš„å¼€å‘ç¯å¢ƒã€‚

* ç½‘ç»œé—®é¢˜å¼•èµ·éƒ¨åˆ†ä¾èµ–å®‰è£…å¤±è´¥ï¼Œå¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œæˆ–è€…ä½¿ç”¨å›½å†…æºï¼Œä¾‹å¦‚ [tyarn](http://npm.taobao.org/package/tyarn)ã€‚


[åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ](https://github.com/xiaohuoni/umi-course/blob/master/doc/06.md)
